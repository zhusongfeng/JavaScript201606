<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>珠峰培训</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        ul, li {
            list-style: none;
        }

        html, body {
            font-size: 14px;
            font-family: "Helvetica Neue", Helvetica, Arial, STHeiti, "Microsoft Yahei", sans-serif;
        }

        .menu {
            margin: 20px;
            width: 150px;
            border: 1px solid green;
            border-top: none;
        }

        .menu h2 {
            padding: 0 10px;
            height: 30px;
            line-height: 30px;
            font-size: 15px;
            background: #E0F2BE;
            border-top: 1px solid green;
            cursor: pointer;
        }

        .detail {
            display: none;
            padding-left: 20px;
        }

        .detail.show {
            display: block;
        }

        .detail li {
            height: 30px;
            line-height: 30px;
        }
    </style>
</head>
<body>
<ul class="menu">
    <li>
        <h2>衬衫1</h2>
        <ul class="detail show">
            <li>短袖衬衫</li>
            <li>长袖衬衫</li>
            <li>男款衬衫</li>
            <li>女款衬衫</li>
        </ul>
    </li>
    <li>
        <h2>衬衫2</h2>
        <ul class="detail">
            <li>短袖衬衫</li>
            <li>长袖衬衫</li>
            <li>男款衬衫</li>
            <li>女款衬衫</li>
        </ul>
    </li>
    <li>
        <h2>衬衫3</h2>
        <ul class="detail">
            <li>短袖衬衫</li>
            <li>长袖衬衫</li>
            <li>男款衬衫</li>
            <li>女款衬衫</li>
        </ul>
    </li>
</ul>

<script charset="UTF-8" type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<script charset="UTF-8" type="text/javascript">
    /*--
     点击列表中的H2,实现让当前H2底下的UL如果是展开的就隐藏,如果是隐藏的就展开；同时让其他H2下的UL都隐藏
     --*/
    //    $(".menu h2").on("click", function () {
    //        //->this:当前点击的这个H2
    //        $(this).next().slideToggle(200) //->让当前点击的这个H2的弟弟(UL)展开或者隐藏
    //                .parent() //->获取的是当前展开或者隐藏的UL的父亲(LI)
    //                .siblings() //->获取其父亲的所有兄弟(其它LI)
    //                .children("ul").slideUp(200); //->获取其他LI中的UL,让其隐藏
    //    });

    //    $(".menu h2").on("click", function () {
    //        $(this).next().slideToggle(200).parent().siblings().children("ul").slideUp(200);
    //    });

    /*--
     首先获取所有的H2和UL,点击当前的某一个H2记录它的索引,让和它索引对应的那个UL显示或者隐藏,让其他的UL隐藏
     --*/
    var $menu = $(".menu"),
            $h2 = $menu.find("h2"),
            $detail = $menu.find(".detail");
    $h2.on("click", function () {
        //->this:H2
        //->index获取的是当前元素在HTML结构中的排行索引,并不是得到集合中的排序索引
        var $curIndex = $(this).parent().index();
        
        $detail.each(function (index, item) {
            //->this:UL
            if ($curIndex === index) {
                $(this).stop().slideToggle(200);
                return;
            }
            $(this).stop().slideUp(200);
        });
    });
</script>
</body>
</html>